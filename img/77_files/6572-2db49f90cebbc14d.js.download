"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6572],{46572:function(e,t,n){n.d(t,{L:function(){return F}});var r=n(70865),i=n(96670),a=n(2784),o=n(47842),u=n(26297),l=n(66383),s=n(50930),f=n(23945),d=n(41435),c=n(12694),v=n(5759),p=n(29890),Z=n(14529),g=n(50020),m=n(72873),h=n(43202),P=n(49174),O=n(53091),y=n(5632),C={},S={items:C,pages:C,data:{},fetched:!1};function M(e){var t,n,a,l,s,c=e.oldData,v=c.items,m=c.data,h=c.pages,P=e.newPage,O=e.itemsKey,y=(null==P?void 0:null===(s=P.pager)||void 0===s?void 0:s.pagerCurrentPage)||1;return{items:(0,i.Z)((0,r.Z)({},void 0===v?C:v),(0,o.Z)({},y,(null==P?void 0:P[O])||[])),data:(n=(t={data:P,itemsKey:O,oldData:m}).data,a=t.itemsKey,l=t.oldData,!(0,Z.K)(n)||(0,p.k)(n)||(0,g.k)(n)||(0,d.x)(n)?l:(n[a],(0,u.Z)(n,[a].map(f.Z)))),pages:(0,i.Z)((0,r.Z)({},void 0===h?C:h),(0,o.Z)({},y,y)),fetched:!(0,g.k)(P)}}var I=n(70423),x=n(82332),R=n(74740),w=n(35929),K=n(45162),k=n(24606),E=n(10896),D={isOpen:!1,filterKey:null,filterTitle:null,filterItem:null},T={};function F(e){var t,n,F,Q,b,H,A,V,q,N,U,X,B,L,_,j,Y,z,G,W,$,J,ee,et,en,er,ei,ea,eo,eu,el,es,ef,ed,ec,ev,ep,eZ,eg,em,eh,eP,eO,ey,eC=e.apiMethod,eS=e.apiData,eM=e.disabled,eI=e.onSuccess,ex=e.onError,eR=e.itemsKey,ew=e.isPagination,eK=e.defaultActiveFilters,ek=e.defaultActiveSort,eE=e.shouldSaveOnChange,eD=e.ssrData,eT=e.shouldScrollOnChange,eF=e.disableQueryParams,eQ=e.getSSRMethods,eb=e.notHandledByUseSSR,eH=function(e){var t=e.defaultActiveFilters,n=void 0===t?T:t,v=e.shouldSaveOnChange,p=e.shouldScrollOnChange,m=void 0===p||p,P=e.disableQueryParams,C=(0,y.useRouter)(),S=C.asPath,M=C.push,F=C.replace,Q=C.query,b=C.pathname,H=C.isReady;C.events;var A=(0,l.Z)((0,a.useState)((0,r.Z)({},n)),2),V=A[0],q=A[1],N=(0,a.useRef)(!1),U=(0,a.useMemo)(function(){return P?V:(0,K.Q)(S)},[S,V]),X=(0,a.useMemo)(function(){U[h.uR],U[h.fH],U[h.tn];var e=(0,u.Z)(U,[h.uR,h.fH,h.tn].map(f.Z));return!(0,d.x)(e)},[U]),B=(0,a.useMemo)(function(){return Object.entries(Q).reduce(function(e,t){var n=(0,l.Z)(t,2),a=n[0],u=n[1];return -1!==b.indexOf(a)?(0,i.Z)((0,r.Z)({},e),(0,o.Z)({},a,u)):(0,r.Z)({},e)},{})},[b,Q]),L=(0,l.Z)((0,a.useState)(n),2),_=L[0],j=L[1],Y=(0,l.Z)((0,a.useState)(!1),2),z=Y[0],G=Y[1],W=(0,l.Z)((0,a.useState)(D),2),$=W[0],J=W[1],ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return j(function(){return(0,R.m)(e)?function(t){return(0,c.s)(e(t))}:(0,c.s)(e)})},et=(0,a.useMemo)(function(){return!(0,O.X)(U,_)},[_,U]),en=null==_?void 0:_[h.uR],er=null==U?void 0:U[h.uR],ei=(0,l.Z)((0,a.useState)(!1),2),ea=ei[0],eo=ei[1],eu=(0,a.useMemo)(function(){return!(0,x.t)(er,en)},[en,er]),el=(0,l.Z)((0,a.useState)(!1),2),es=el[0],ef=el[1],ed=function(e){var t=e.newUrl,n=e.scroll,i=e.shallow,a=void 0===i||i,o=e.appendQuery;if(P){var u=(0,K.Q)(t);q((0,r.Z)({},void 0!==o&&o?U:T,u)),n&&I.NY.scrollToTop();return}N.current?(N.current=!0,n&&I.NY.scrollToTop(),M(t,void 0,{scroll:!!(null!=n?n:m),shallow:a})):F(t,void 0,{scroll:!!(null!=n?n:m),shallow:a})},ec=function(e){var t,n=e.query;ed({newUrl:(0,E.K)({queries:(t={},(0,o.Z)(t,h.fH,n),(0,o.Z)(t,h.tn,void 0),t),url:window.location.pathname}),scroll:!0})};function ev(e){var t,a=e.activeFilters,u=void 0===a?n:a,l=e.shallow,s=e.fragment,f=(0,c.s)((0,i.Z)((0,r.Z)({},u),(t={},(0,o.Z)(t,h.uR,u[h.uR]||U[h.uR]),(0,o.Z)(t,h.fH,U[h.fH]),(0,o.Z)(t,h.tn,void 0),t)));ed({newUrl:(0,k.m)((0,E.K)({queries:f,url:window.location.pathname}),s),scroll:m,shallow:l})}var ep=function(){ee((0,c.s)((0,r.Z)({},n||T,U)))};function eZ(){G(!1)}function eg(e){var t=e.shallow;eZ(_),ev({activeFilters:_,shallow:t})}function em(){eZ()}function eh(){ev({activeFilters:(0,o.Z)({},h.uR,er)}),eZ()}function eP(){eo(!1)}function eO(){ee((0,i.Z)((0,r.Z)({},_),(0,o.Z)({},h.uR,er))),eP()}function ey(){ee((0,i.Z)((0,r.Z)({},_),(0,o.Z)({},h.uR,er))),eP()}function eC(){ef(!1)}(0,a.useEffect)(function(){ep()},[S,V]);var eS=(0,a.useMemo)(function(){return(0,w.S)(S)},[S]);return{filterExtra:$,activeFilters:_,filterOnClick:function(e){var t=e.isAccordion,n=e.filterKey,i=e.filterItem,a=e.filterType,u=e.filterTitle,l=e.filterOptionId,f=e.filterOptionMax,c=e.filterOptionMin,p=e.filterOptionValueMin,m=e.filterOptionValueMax,P=e.shouldSendDataToServer,y=e.shallow;if(t){J(function(e){var t=e.isOpen,r=e.filterKey;return{isOpen:!(t&&(0,O.X)(n,r)),filterTitle:u,filterKey:n,filterItem:i}});return}var C=function(e){var t,n=e.filterKey,i=e.filterType,a=e.activeFilters,u=e.filterOptionId,l=e.filterOptionMin,f=e.filterOptionMax,c=e.filterOptionValueMin,v=e.filterOptionValueMax,p=(0,Z.K)(n),m=p?n.keyId:n,P=null==n?void 0:n.keyCode,O=(null==a?void 0:a[P])||T,y=p?null===(t=a[P])||void 0===t?void 0:t[m]:a[n];if((0,x.t)(h.kQ.CHECKBOX,i)){var C=function(e){var t=e.filterOptionId,n=e.filterItem,r=e.filterKey;if(null==n?void 0:null===(i=n.find)||void 0===i?void 0:i.call(n,function(e){return(0,x.t)(e,t)})){var i,a,u=null==n?void 0:null===(a=n.filter)||void 0===a?void 0:a.call(n,function(e){return!(0,x.t)(e,t)});return(0,o.Z)({},r,(0,d.x)(u)?void 0:u)}return(0,o.Z)({},r,(0,s.Z)(n||[]).concat([t]))}({filterItem:y,filterKey:m,filterOptionId:u});return(0,r.Z)({},a||T,p?(0,o.Z)({},P,(0,r.Z)({},O,C)):C)}if([h.kQ.RADIO,h.kQ.BUTTON].includes(i)){var S,M,I,R=(M=(S={filterItem:y,filterKey:n,filterOptionId:u}).filterKey,I=S.filterOptionId,(0,o.Z)({},M,I));return(0,r.Z)({},a||T,p?(0,o.Z)({},P,(0,r.Z)({},O,R)):R)}if((0,x.t)(h.kQ.SLIDER,i)){var w,K,k,E,D,F,Q,b,H=(k=(w={filterKey:n,filterOptionMax:f,filterOptionMin:l,filterOptionValueMin:c,filterOptionValueMax:v}).filterOptionMin,E=w.filterOptionMax,D=w.filterOptionValueMin,F=w.filterOptionValueMax,Q=w.filterKey,b=(0,x.t)(E,F)&&(0,x.t)(k,D),(0,o.Z)({},Q,b?void 0:(K={},(0,o.Z)(K,h.LS,D),(0,o.Z)(K,h.o$,F),K)));return(0,r.Z)({},a||T,p?(0,o.Z)({},P,(0,r.Z)({},O,H)):H)}if([h.kQ.BOOLEAN,h.kQ.SWITCH].includes(i)){var A,V,q,N,U=(V=(A={filterItem:y,filterKey:n,filterOptionId:u}).filterItem,q=A.filterKey,N=A.filterOptionId,(0,o.Z)({},q,(0,g.k)(V)?N:void 0));return(0,r.Z)({},a||T,p?(0,o.Z)({},P,(0,r.Z)({},O,U)):U)}if((0,x.t)(h.kQ.CATEGORY_LIST,i)){var X,B,L,_=(B=(X={filterKey:n,filterOptionId:u}).filterKey,L=X.filterOptionId,(0,o.Z)({},B,(0,g.k)(L)?void 0:[L]));return(0,r.Z)({},a||T,p?(0,o.Z)({},P,(0,r.Z)({},O,_)):_)}return(0,r.Z)({},a||T)}({filterKey:n,filterType:a,filterOptionId:l,filterOptionMin:c,filterOptionMax:f,filterOptionValueMin:p,filterOptionValueMax:m,activeFilters:_});P||v?ev({activeFilters:C,shallow:y}):ee(C)},filterClear:eh,filterIsModalOpen:z,filterOpenModal:function(){G(!0)},filterCloseModal:eZ,filterSaveChanges:eg,filterCancelChanges:em,filterHasChanged:et,activeSortId:en,submittedSortId:er,sortOnClick:function(e){var t=e.sortOptionId;e.shouldSendDataToServer||v?(ev({activeFilters:(0,i.Z)((0,r.Z)({},_),(0,o.Z)({},h.uR,t))}),eP()):ee((0,i.Z)((0,r.Z)({},_),(0,o.Z)({},h.uR,t)))},sortIsModalOpen:ea,sortOpenModal:function(){eo(!0)},sortCloseModal:eP,sortSaveChanges:eO,sortCancelChanges:ey,sortHasChanged:eu,allIsModalOpen:es,allOpenModal:function(){ef(!0)},allCloseModal:eC,allSaveChanges:function(){eO(),eg(),eC()},allCancelChanges:function(){ey(),em(),eC()},allClear:function(){eh(),ey(),eC()},onSearch:ec,onPageChange:function(e){ed({newUrl:(0,E.K)({queries:(0,o.Z)({},h.tn,e),url:window.location.href}),scroll:m,appendQuery:!0})},searchOnClearParam:function(){ec(T)},searchParam:U[h.fH],queryParams:U,reinitializeQueryParams:function(){ep()},urlParams:B,isReady:H,hasFilter:X,fragment:eS,changeFragment:function(e){ev({fragment:e,activeFilters:_})}}}({defaultActiveFilters:void 0===eK?{}:eK,defaultActiveSort:void 0===ek?null:ek,shouldSaveOnChange:eE,shouldScrollOnChange:eT,disableQueryParams:eF,isPagination:ew}),eA=(0,a.useMemo)(function(){var e;return eQ?null==eQ?void 0:null===(e=eQ({query:eH.urlParams||{}}))||void 0===e?void 0:e[0]:{apiMethod:eC,apiData:eS}},[eH.isReady,eH.urlParams,eS]),eV=(n=(t=(0,i.Z)((0,r.Z)({},eA),{queryParams:eH.queryParams,disabled:eM,notHandledByUseSSR:eb||!!eC,onSuccess:eI,onError:ex,onPageChange:eH.onPageChange,itemsKey:eR,isPagination:ew,ssrData:(0,p.k)(eD)?null==eD?void 0:eD[0]:eD})).apiMethod,F=t.apiData,Q=t.queryParams,b=t.disabled,H=t.onSuccess,A=t.onError,q=void 0===(V=t.itemsKey)?"products":V,N=t.isPagination,U=t.ssrData,B=void 0!==(X=t.notHandledByUseSSR)&&X,L=t.onPageChange,_=(0,y.useRouter)(),j=(0,a.useRef)(null),Y=(0,a.useRef)(!1),G=(z=(0,l.Z)((0,a.useState)(Q.page||1),2))[0],W=z[1],J=($=(0,l.Z)((0,a.useState)(M({oldData:S,newPage:U,itemsKey:q})),2))[0],ee=$[1],(0,a.useEffect)(function(){(null==Q?void 0:Q.page)&&G!==Q.page&&W(null==Q?void 0:Q.page)},[null==Q?void 0:Q.page]),en=(et=(0,a.useMemo)(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pager;if(!((0,g.k)(t)||1>+t.pagerCurrentPage||+t.pagerCurrentPage>=+t.pagerTotalPages))return t.pagerCurrentPage+1}(J.data),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pager;if(!((0,g.k)(t)||2>+t.pagerCurrentPage||+t.pagerCurrentPage>=+t.pagerTotalPages))return t.pagerCurrentPage-1}(J.data);return{nextPageParam:e,hasNextPage:!!e,previousPageParam:t,hasPreviousPage:!!t}},[J.data])).nextPageParam,er=et.hasNextPage,ei=et.previousPageParam,ea=et.hasPreviousPage,eo=(0,a.useMemo)(function(){return(0,r.Z)({},(0,c.s)((0,r.Z)({},F||{},Q||{})))},[F,Q]),eu=(0,a.useRef)(eo),el=(0,a.useMemo)(function(){return(0,i.Z)((0,r.Z)({},eo),(0,o.Z)({},h.tn,Q.page||G))},[eo,G]),es=(0,a.useRef)(!1),ef=(0,a.useRef)(B),ed=(0,a.useRef)(eo),ec=void 0!==b&&b||!B&&(Y.current||!ef.current||(0,O.X)(eo,ed.current)&&1===G),ev=void 0!==N&&N||1===G||es.current||Q.page,ep=function(e){if(e&&(0,d.x)(e)){ee(function(e){return(0,i.Z)((0,r.Z)({},e),{fetched:!0,items:ev?[]:e.items})});return}var t,n,a,o,u=(n=(t={newPage:e}).newPage,a=t.reset,ee(o=M({oldData:(0,i.Z)((0,r.Z)({},J),{items:ev||a?C:J.items}),newPage:n,itemsKey:q})),o);eu.current=eo,es.current=!1,Y.current=!1,null==H||H(e,u)},eg=(eZ=(0,m.V)({apiMethod:n,apiData:el,onSuccess:ep,onError:A,disabled:ec})).pending,em=eZ.hasError,eh=eZ.reload,(0,a.useEffect)(function(){(0,g.k)(U)||B||ef.current||(ep(U),ef.current=!0,ed.current=(0,r.Z)({},eo))},[U]),(0,a.useEffect)(function(){var e=function(e){var t=new URL(e,window.location.href).pathname;Y.current=!(0,O.X)(j.current,t),j.current=t};return _.events.on("routeChangeStart",e),function(){_.events.off("routeChangeStart",e)}},[]),(0,a.useEffect)(function(){eO({page:(null==Q?void 0:Q.page)||1})},[_.asPath]),(0,a.useEffect)(function(){ec&&!B&&(ef.current||(0,O.X)(ed.current,eo))?ep(U):es.current=!(0,O.X)(eo,eu.current)},[eo]),eP=function(e){(0,v.h)(e)&&W(e)},eO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,n=void 0===t?1:t,a=e.updatePageParam;ee((0,i.Z)((0,r.Z)({},J),{fetched:!1,items:[]})),void 0!==a&&a?null==L||L(n):G===n?eh():eP(n)},ey=(eg||!J.fetched||es.current)&&!em,(0,i.Z)((0,r.Z)({},J),{items:ev&&ey?C:J.items,hasError:em,pending:ey,hasPreviousPage:ea,hasNextPage:er,fetchNextPage:function(){er&&W(en)},fetchPreviousPage:function(){ea&&W(ei)},fetchPage:eP,addItem:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];ee(function(e){var n=(0,r.Z)({},(null==e?void 0:e.items)||{});return t.forEach(function(e){var t=e.page,r=e.index,i=e.item;n[t]=(0,P.Q)({array:n[t],index:r,item:i})}),(0,i.Z)((0,r.Z)({},e),{items:n})})},removeItem:function(e){var t=e.itemIndex;ee(function(e){var n,a,u,f,d,c=Object.entries(null==e?void 0:e.items).reduce(function(e,n){var r=(0,l.Z)(n,2),i=r[0],a=r[1];return e.isFound?e:t<a.length+e.count?{page:i,index:t-e.count,isFound:!0}:{count:e.count+a.length}},{count:0}),v=c.page,Z=c.index,g=(0,i.Z)((0,r.Z)({},null==e?void 0:e.items),(0,o.Z)({},v,(0,s.Z)((u=void 0===(a=(n={array:null==e?void 0:null===(d=e.items)||void 0===d?void 0:d[v],index:Z}).array)?[]:a,f=n.index,(0,p.k)(u)?(0,s.Z)(u.filter(function(e,t){return f!==t})):[]))));return(0,i.Z)((0,r.Z)({},e),{items:g})})},updateItem:function(e){var t=e.itemIndex,n=e.newData;ee(function(e){var a,u,f,d,c,v,Z,g,m=Object.entries(null==e?void 0:e.items).reduce(function(e,n){var r=(0,l.Z)(n,2),i=r[0],a=r[1];return e.isFound?e:t<a.length+e.count?{page:i,index:t-e.count,isFound:!0}:{count:e.count+a.length}},{count:0}),h=m.page,P=m.index,O=(0,i.Z)((0,r.Z)({},null==e?void 0:e.items),(0,o.Z)({},h,(0,s.Z)((f=void 0===(u=(a={array:null==e?void 0:null===(v=e.items)||void 0===v?void 0:v[h],index:P,item:(0,r.Z)({},(null==e?void 0:null===(Z=e.items)||void 0===Z?void 0:null===(g=Z[h])||void 0===g?void 0:g[P])||{},n)}).array)?[]:u,d=a.index,c=a.item,(0,p.k)(f)?(0,s.Z)(f.map(function(e,t){return d===t?c:e})):[]))));return(0,i.Z)((0,r.Z)({},e),{items:O})})},resetItems:eO,page:G,apiData:el,isAPIDataChangedRef:es}));return(0,r.Z)({},eV,eH)}}}]);