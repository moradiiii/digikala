(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3966],{48485:function(e,s,n){"use strict";n.d(s,{$:function(){return a}});var t=n(55059),i=n(45227),o=n(1324),r=n(12694),a=(0,o.q)({type:i.XN.POST,url:function(e){var s=e.answerId;return"answers/".concat(s,"/like/")},inputTransformer:function(e){var s=e.type;return(0,r.s)({type:s})},transformer:t.u})},26956:function(e,s,n){"use strict";n.d(s,{x:function(){return l}});var t=n(52322),i=n(57931),o=n(98780),r=n(52216),a=n(72677);function l(e){var s=e.className,n=e.classNamePadding,l=e.feedbackContentClass,c=e.likeCount,u=e.dislikeCount,d=e.onLike,m=e.onDislike,x=e.isComments,p=void 0!==x&&x,f=e.isLoadingLike,w=e.isLoadingDislike,h=e.isLike,A=e.isDislike,v=e.thumbsUpCroId,I=e.thumbsDownCroId,k=(0,a.d)("flex items-center text-neutral-500",void 0===n?"pt-3":n,s),j=(0,a.d)("text-body-2 lg:ml-10",l,{"hidden lg:block":!p}),N=(0,a.d)("px-2 px-2",{"text-hint-text-success":h,"text-neutral-400":!h}),q=(0,a.d)("mr-1 px-2",{"text-hint-text-error":A,"text-neutral-400":!A}),L=(0,a.d)("mr-1",{"text-hint-success-text":h,"text-neutral-400":!h}),b=(0,a.d)("mr-1",{"text-hint-text-error":A,"text-neutral-400":!A});return(0,t.jsxs)("div",{className:k,children:[!p&&(0,t.jsx)("p",{className:j,children:"آیا این پاسخ مفید بود؟"}),(0,t.jsxs)("div",{className:"mr-auto lg:mr-0 flex items-center",children:[(0,t.jsx)(i.z,{isLoading:f,onClick:d,hasCustomMode:!0,removePadding:!0,mode:"text",size:"small",className:N,CROId:v,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:(0,r.U)(void 0===c?0:c)}),(0,t.jsx)(o.J,{icon:"thumbsUp",className:L,size:20,color:h?"success":"low-emphasis"})]})}),(0,t.jsxs)(i.z,{isLoading:w,onClick:m,hasCustomMode:!0,mode:"text",removePadding:!0,className:q,CROId:I,children:[(0,t.jsx)("p",{children:(0,r.U)(void 0===u?0:u)}),(0,t.jsx)(o.J,{icon:"thumbsDown",className:b,size:20,color:A?"error":"low-emphasis"})]})]})]})}},31969:function(e,s,n){"use strict";n.d(s,{d:function(){return t}});var t={LIKE:"like",DISLIKE:"dislike"}},55059:function(e,s,n){"use strict";function t(e){var s=e.data||{};return{dislikes:s.dislikes,likes:s.likes}}n.d(s,{u:function(){return t}})},21728:function(e,s,n){"use strict";n.d(s,{Q:function(){return A}});var t=n(66383),i=n(52322),o=n(2784),r=n(98780),a=n(72677),l=n(41435),c=n(57931),u=n(598);function d(e){var s=e.openAnswerModal,n=e.buttonText,t=e.CROId,o=e.className;return(0,i.jsx)("div",{className:(0,a.d)("mr-10",o),children:(0,i.jsxs)(c.z,{mode:"text",size:"small",color:"secondary",onClick:s,CROId:t,className:"mt-3 text-secondary-500",children:[n,(0,i.jsx)(r.J,{icon:"chevronLeft",color:"secondary",size:16,className:"mx-2"})]})})}var m=n(74808),x=n(73739);function p(e){var s=e.className;return(0,i.jsx)(x.k,{className:s,icon:"infoOutline",children:"پاسخ شما ثبت شد و پس از بررسی و تایید نمایش داده خواهد شد."})}function f(e){var s=e.answers,n=e.questionText,t=e.submitted,o=e.showAllAnswers,a=e.setShowAllAnswers,l=e.openAnswerModal,x=e.className,f=e.disableReplayAction,w=e.productId;return o||1===s.length?(0,i.jsxs)("div",{className:x,children:[s.map(function(e){return(0,i.jsx)(u.s,{className:"br-list-vertical-no-padding",questionAnswer:e,questionText:n,productId:w},e.questionAnswerId)}),t?(0,i.jsx)(p,{}):!f&&(0,i.jsx)(d,{className:"border-complete-t mt-4",buttonText:"ثبت پاسخ جدید",openAnswerModal:l})]}):s.length>1?(0,i.jsxs)("div",{className:x,children:[(0,i.jsx)(u.s,{questionAnswer:s[0],questionText:n,productId:w}),(0,i.jsxs)(c.z,{shape:"text",color:"secondary",onClick:function(){a(!0),(0,m.y0)({type:"more_answers",productId:w})},className:"mt-2 mb-3 pr-0 mr-10 font-bold text-secondary-500",children:["مشاهده‌ی پاسخ‌های دیگر",(0,i.jsx)(r.J,{icon:"expandMore",color:"secondary",className:"mx-2",size:24})]})]}):null}function w(e){var s=e.submitted,n=e.openAnswerModal,t=e.className,o=e.disableReplayAction;return s?(0,i.jsx)(p,{className:(0,a.d)("mt-4",t)}):(0,i.jsx)("div",{className:(0,a.d)("mt-4",t),children:o?null:(0,i.jsx)("div",{className:"border-complete-t",children:(0,i.jsx)(d,{buttonText:"ثبت پاسخ‌",CROId:"pdp-answer",openAnswerModal:n})})})}var h=(0,o.memo)(function(e){var s=e.answers,n=e.questionId,r=e.questionText,a=e.showAllAnswers,c=e.setShowAllAnswers,u=e.openAnswerModal,d=e.disableReplayAction,m=e.productId,x=(0,t.Z)((0,o.useState)(!1),2),p=x[0],h=x[1],A=function(){h(!0)},v=function(){u({questionId:n,questionText:r,successCallback:A})};return(0,l.x)(s)?(0,i.jsx)(w,{submitted:p,openAnswerModal:v,disableReplayAction:d}):(0,i.jsx)(f,{answers:s,questionText:r,submitted:p,showAllAnswers:a,setShowAllAnswers:c,openAnswerModal:v,disableReplayAction:d,productId:m})});function A(e){var s=e.className,n=e.question,l=e.disableReplayAction,c=e.openAnswerModal,u=n||{},d=u.questionAnswers,m=u.questionText,x=u.questionId,p=(u.questionProduct||{}).productId,f=(0,t.Z)((0,o.useState)(!1),2),w=f[0],A=f[1];return(0,i.jsxs)("article",{className:(0,a.d)(s,"py-3"),children:[(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)("span",{className:"mt-1 ml-4",children:(0,i.jsx)(r.J,{icon:"question",color:"secondary",size:24})}),(0,i.jsx)("p",{className:"text-subtitle w-full",children:m})]}),(0,i.jsx)(h,{questionId:x,answers:d,questionText:m,showAllAnswers:w,setShowAllAnswers:A,openAnswerModal:c,disableReplayAction:l,productId:p})]})}},598:function(e,s,n){"use strict";n.d(s,{s:function(){return N}});var t=n(66383),i=n(52322),o=n(2784),r=n(48976),a=n(45756),l=n(66781),c=n(82650),u=n(11559),d=n(40565),m=n(74808),x=n(41435),p=n(48485),f=n(26956),w=n(31969),h=n(98780),A=n(31909),v=n(61695),I=n(82332),k=n(72677);function j(e){var s=e.className,n=e.media,t=e.onClick,o=n.mediaUrl,r=n.mediaType,a=n.mediaThumbnailUrl,l=(0,I.t)(r,v.L.VIDEO);return(0,i.jsxs)("div",{className:(0,k.d)(s,"relative cursor-pointer"),onClick:t,children:[(0,i.jsx)(A.E,{alt:"question-answer-media",src:l?a:o,rounded:8,height:50,width:50}),l&&(0,i.jsx)(h.J,{size:24,className:"absolute bottom-0 left-0",icon:"playSimple",color:"white"})]})}function N(e){var s=e.className,n=e.questionAnswer,h=e.questionText,A=e.isInDetailModal,v=e.productId,I=n||{},k=I.questionAnswerId,N=I.questionAnswerText,q=I.questionAnswerType,L=I.questionAnswerSender,b=I.questionAnswerUserReaction,y=I.questionAnswerReactionsLikes,C=I.questionAnswerHasQABadge,g=I.questionAnswerReactionsDisLikes,R=I.questionAnswerMedias,D=(0,t.Z)((0,o.useState)([b].includes(w.d.LIKE)),2),S=D[0],T=D[1],E=(0,t.Z)((0,o.useState)([b].includes(w.d.DISLIKE)),2),P=E[0],M=E[1],z=(0,t.Z)((0,o.useState)({questionAnswerReactionsLikes:y,questionAnswerReactionsDisLikes:g}),2),_=z[0],U=z[1],K=function(e){var s=e||{},t=s.likes,i=s.dislikes;U({questionAnswerReactionsLikes:t,questionAnswerReactionsDisLikes:i}),n.questionAnswerReactionsDisLikes=i,n.questionAnswerReactionsLikes=t},O=(0,u.E)({apiMethod:p.$,onSuccess:K}),Z=O.request,J=O.pending,Q=(0,u.E)({apiMethod:p.$,onSuccess:K}),F=Q.request,$=Q.pending,H=(0,c.z)().emit;return(0,d.x)([{event:l.s6,handler:function(e){k===e.questionAnswerId&&(M([b].includes(w.d.DISLIKE)),T([b].includes(w.d.LIKE)),U({questionAnswerReactionsLikes:y,questionAnswerReactionsDisLikes:g}))}}]),(0,i.jsxs)("div",{className:s,children:[(0,i.jsxs)("div",{className:"flex items-center mt-4 text-neutral-600",children:[(0,i.jsx)("p",{className:"text-caption ml-4",children:"پاسخ"}),(0,i.jsx)("div",{className:"grow",children:(0,i.jsx)("p",{className:"text-body-1",children:N})})]}),(0,i.jsxs)("div",{className:"flex flex-col items-start justify-center mr-10",children:[!A&&!(0,x.x)(R)&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 mt-3 lg:mb-3 mb-4",children:R.map(function(e,s){return(0,i.jsx)(j,{media:e,onClick:function(){return H(l.P8,{questionAnswer:n,questionText:h,mediaIndex:s,productId:v})}})})}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("p",{className:"text-caption text-neutral-400",children:L}),C?(0,i.jsx)(r.C,{size:"small",text:"نماینده برند",textClasses:"text-neutral-000",bgColor:"neutral-400"}):"buyer"===q?(0,i.jsx)(r.C,{size:"small",text:"خریدار",type:"success"}):"seller"===q?(0,i.jsx)(r.C,{size:"small",text:"فروشنده",type:"success"}):null]}),(0,i.jsx)(f.x,{onLike:function(){Z({type:w.d.LIKE,answerId:k}).then(function(e){e.likes>_.questionAnswerReactionsLikes?(T(!0),n.questionAnswerUserReaction=w.d.LIKE):(T(!1),n.questionAnswerUserReaction="")}).finally(function(){M(!1)}),(0,m.y6)({type:"Like",productId:v})},isLike:S,className:"mr-auto",onDislike:function(){F({answerId:k,type:w.d.DISLIKE}).then(function(e){e.dislikes>_.questionAnswerReactionsDisLikes?(M(!0),n.questionAnswerUserReaction=w.d.DISLIKE):(M(!1),n.questionAnswerUserReaction="")}).finally(function(){T(!1)}),(0,m.y6)({type:"Dislike",productId:v})},isDislike:P,isLoadingLike:J,isLoadingDislike:$,likeCount:null==_?void 0:_.questionAnswerReactionsLikes,dislikeCount:null==_?void 0:_.questionAnswerReactionsDisLikes,thumbsUpCroId:a.h.PDP_QUESTION_LIKE,thumbsDownCroId:a.h.PDP_QUESTION_DISLIKE})]})]})}},4818:function(e,s,n){"use strict";n.d(s,{D:function(){return x}});var t=n(70865),i=n(52322),o=n(64665),r=n(2784),a=n(5632),l={};function c(e){var s=l[e];void 0!==s&&window.scrollTo(0,s)}var u=n(42306),d=n(98324),m=n.n(d);function x(e){var s=e.component,n=e.getAPIMethods,d=e.layoutProps,x=e.isPrivate,p=e.noDefaultLoader,f=e.pageActivatorFeature,w=e.redirectIfLogin,h=e.afterLogin,A=e.disableSSR,v=e.dataProps,I=e.saveScrollPosition,k=void 0!==I&&I,j=function(e){return(!function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],s=(0,a.useRouter)(),n=s.pathname;(0,r.useEffect)(function(){if(e){var t=function(){l[n]=window.scrollY},i=function(){setTimeout(function(){c(n)},0)};s.events.on("routeChangeStart",t),s.events.on("routeChangeComplete",i);var o=setTimeout(function(){c(n)},1e3);return function(){clearTimeout(o),s.events.off("routeChangeStart",t),s.events.off("routeChangeComplete",i)}}},[n,s,e])}(k),(0,u.d)(o.X.LITE_PAGE_ANIMATION))?(0,i.jsx)("div",{className:m().container,children:(0,i.jsx)(s,(0,t.Z)({},e))}):(0,i.jsx)(s,(0,t.Z)({},e))};return j.getAPIMethods=n,j.layoutProps=d,j.isPrivate=x,j.noDefaultLoader=p,j.pageActivatorFeature=f,j.redirectIfLogin=w,j.afterLogin=h,j.disableSSR=A,j.dataProps=v,j.saveScrollPosition=k,j}},98324:function(e){e.exports={container:"styles_container__TOHrJ","fade-out":"styles_fade-out__Z1zNL"}}}]);