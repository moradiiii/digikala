(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2150],{56978:function(e,r,n){"use strict";n.d(r,{D:function(){return f}});var t=n(66383),a=n(52322),o=n(2784),i=n(59437),l=n(15644),s=n(98780),c=n(88413),d=n(26442),u=n(8155),p=n(41435),v=n(72677);function f(e){var r=e.options,n=void 0===r?[]:r,f=e.className,m=(0,t.Z)((0,o.useState)(!1),2),g=m[0],x=m[1];return g||(0,p.x)(n)?null:(0,a.jsxs)("div",{className:(0,v.d)("w-full rounded-medium border-complete-200 lg:p-5 mt-3",f),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 lg:p-0",children:[(0,a.jsx)(s.J,{icon:"infoOutline",size:24,color:"secondary",className:"ml-4"}),(0,a.jsx)("div",{className:"grow text-neutral-700 text-subtitle-strong",children:"منظور شما این بود؟"}),(0,a.jsx)("div",{onClick:function(){x(!0)},className:"text-neutral-400 cursor-pointer",children:(0,a.jsx)(s.J,{icon:"close",color:"low-emphasis",size:24})})]}),(0,a.jsx)("div",{className:"flex overflow-x-auto overflow-y-hidden hide-scrollbar items-center justify-start gap-2 mt-1 lg:mt-4 pb-4 lg:pb-0 px-4 lg:px-0",children:n.map(function(e){return(0,a.jsx)(l.A,{onClick:function(){(0,u._p)({query:e,type:c.Ey,queries:n})},className:"shrink-0",children:(0,a.jsx)(i.e,{href:(0,d.dH)(e),iconColor:"low-emphasis",mode:"anchor",children:(0,a.jsx)("span",{className:"text-body-2 text-neutral-700",children:e})})},e)})})]})}},3096:function(e,r,n){"use strict";n.d(r,{M:function(){return c}});var t=n(52322),a=n(88413),o=n(64177),i=n(41435),l=n(72677),s=n(16332);function c(e){var r=e.page,n=e.className,c=(r||{}).pageBanners,d=(0,o.C)().isDesktop?4:2;return(0,i.x)(c)?null:(0,t.jsx)("div",{className:(0,l.d)("flex gap-3 my-5 flex-wrap container-2xl-w",n),children:null==c?void 0:c.map(function(e,r){return(0,t.jsx)(s.N,{style:{width:"calc((100% - ".concat(d-1," * ",16,"px)/").concat(d,")")},banner:e,position:a.BE.BOTTOM_PLP+r,className:n},null==e?void 0:e.sponsorBannerId)})})}},16332:function(e,r,n){"use strict";n.d(r,{N:function(){return u}});var t=n(66383),a=n(52322),o=n(16514),i=n(31909),l=n(98723),s=n(8155),c=n(69932),d=n(72677);function u(e){var r=e.banner,n=e.className,u=e.position,p=e.style,v=r.sponsorBannerUrl,f=r.sponsorBannerImage,m=r.sponsorBannerId,g=r.sponsorCampaignId,x=r.sponsorSellerId,h=r.sponsorBannerProvider,y=(0,t.Z)((0,o.Z)({callback:function(){(0,c.wh)({adIds:[m]}),(0,s.c2)({adType:"sponsored_banner",ad:{id:m,campaignId:g,sellerId:x,provider:h},position:u})}}),1)[0];return(0,a.jsx)(l.r,{onClick:function(){(0,c.Je)({adIds:[m]}),(0,s.nO)({adType:"sponsored_banner",ad:{id:m,campaignId:g,sellerId:x,provider:h},position:u})},to:v,shouldHandleUrlAndOnClick:!0,target:"_blank",style:p,children:(0,a.jsx)("div",{ref:y,className:(0,d.d)("w-full h-full"),children:(0,a.jsx)(i.E,{className:(0,d.d)("w-full h-full",n),image:f})})})}},43252:function(e,r,n){"use strict";n.d(r,{F:function(){return B}});var t=n(98788),a=n(70865),o=n(96670),i=n(50930),l=n(22970),s=n(45227),c=n(43202),d=n(51071),u=n(49174),p=n(21497),v=n(9406),f=n(22848),m=n(41435),g=n(47842),x=n(26297),h=n(73587),y=n(1324),b=n(12694),w=n(70582),I=n(79968);function j(e){var r=e.data||{},n=r.link,t=r.image,a=r.adId,o=r.campaignId,i=r.provider,l=r.sellerId;return{sponsorBannerUrl:(0,I.f)({data:n}),sponsorBannerImage:(0,w.W)({data:t}),sponsorBannerId:a,sponsorCampaignId:o,sponsorSellerId:l,sponsorBannerProvider:i}}var N=n(50020),C=(0,y.q)({url:"/providers-products/",transformer:function(e){var r,n,t,a,o,i=e.data,l=i||{},s=l.banners,c=l.products||{},d=c.searchResult,u=c.sideBarMenu,p=s||{},v=p.bottomOfSearchPage,f=p.aboveSideBarFilter,g=p.belowSideBarFilter;return{shouldResetAds:(0,m.x)(i)&&!(0,N.k)(i),sideBarMenuProduct:null==u?void 0:null===(r=u.map)||void 0===r?void 0:r.call(u,function(e){return(0,h.r)({data:e})}),cpcProducts:null==d?void 0:null===(n=d.map)||void 0===n?void 0:n.call(d,function(e){return(0,h.r)({data:e})}),normalBanners:null==v?void 0:null===(t=v.map)||void 0===t?void 0:t.call(v,function(e){return j({data:e})}),aboveSideBarFilter:null==f?void 0:null===(a=f.map)||void 0===a?void 0:a.call(f,function(e){return j({data:e})}),belowSideBarFilter:null==g?void 0:null===(o=g.map)||void 0===o?void 0:o.call(g,function(e){return j({data:e})})}},inputTransformer:function(e){var r,n=e.deviceId,t=e.categoryCode,o=(0,x.Z)(e,["deviceId","categoryCode"]);return(0,b.s)((0,a.Z)((r={},(0,g.Z)(r,s.Tx.CATEGORY_CODE,null==t?void 0:t.replace("category-","")),(0,g.Z)(r,s.Tx.DEVICE_ID,n),r),o))}}),_=n(51382),Z=n(12571);function B(e){return P.apply(this,arguments)}function P(){return(P=(0,t.Z)(function(e){var r,n,t,g,x,h,y,b,w,I,j,N,B,P,S,k;return(0,l.__generator)(this,function(l){switch(l.label){case 0:if(e.response,r=e.params,n=e.mutateItem,g=(t=r||{})[c.tn],(t[s.Tx.SEARCH_TAB]||_.g)!==Z.I.DIGIKALA)return[2];if(x=(d.h.getState()||{}).user.advergeDeviceId,!((0,v.e)()||(0,p.$i)()||(0,f.J)()))return[3,1];return B={},[3,3];case 1:return[4,C((0,o.Z)((0,a.Z)({},r),{deviceId:x}))];case 2:B=l.sent()||{},l.label=3;case 3:return y=(h=B).cpcProducts,b=h.normalBanners,w=h.aboveSideBarFilter,I=h.belowSideBarFilter,j=h.sideBarMenuProduct,N=h.shouldResetAds,P=(null==y?void 0:y.map(function(e){return e.uniqueKey="Ad".concat(e.productId),e}))||[],k=(S=(null==y?void 0:y.length)>2)?null==P?void 0:P.slice(1):P,n(g,function(e){var r=k.reduce(function(e,r,n){return(0,u.Q)({array:e,index:n+2,item:r})},(null==e?void 0:e.products)||[]);return(0,o.Z)((0,a.Z)({},e),{products:r,sidebarCPCProduct:(null==j?void 0:j[0])||S&&(null==P?void 0:P[0])||e.sidebarCPCProduct,pageBanners:b,shouldResetAds:N,aboveSideBarFilter:null==w?void 0:w[0],belowSideBarFilter:null==I?void 0:I[0]})}),[2,(0,m.x)(j)?{cpcProducts:y,hasMobileSidebar:S}:{cpcProducts:(0,i.Z)(null!=j?j:[]).concat((0,i.Z)(null!=y?y:[]))}]}})})).apply(this,arguments)}},24360:function(e,r,n){"use strict";n.d(r,{e:function(){return c}});var t=n(70865),a=n(96670),o=n(50930),i=n(18577),l=n(8155),s=n(41435);function c(e){var r,n,c=e.response,d=e.params,u=e.identifier,p=e.cpcData,v=(0,t.Z)((0,a.Z)((0,t.Z)({},d||{}),{sort:(null==d?void 0:d.sort)?null==d?void 0:d.sort:null==c?void 0:null===(r=c.sort)||void 0===r?void 0:r.sortDefaultOptionId}),u(c));i.s$||(window.plpProductsData=(0,o.Z)(window.plpProductsData).concat((0,o.Z)((null==p?void 0:p.hasMobileSidebar)?[null==p?void 0:null===(n=p.cpcProducts)||void 0===n?void 0:n[0]]:[]),(0,o.Z)((0,s.x)(null==c?void 0:c.products)?[]:Object.values(c.products).map(function(e,r){var n;return(0,t.Z)({productPage:null==c?void 0:null===(n=c.pager)||void 0===n?void 0:n.pagerCurrentPage,productIndex:r},e)}))),window.plpData={data:c,identifiers:v}),(0,s.x)(c)||(0,l.Wp)(c,v,p)}},12887:function(e,r,n){"use strict";n.d(r,{Z:function(){return f}});var t=n(66383),a=n(52322),o=n(2784),i=n(52216),l=n(41435),s=n(72677),c=n(31909),d=n(98723),u=n(76939),p=n.n(u);function v(e){var r=e.category,n=e.onClick,t=e.children,o=e.className,i=r||{},l=i.categoryUrl,u=i.categoryTitle,v=i.categoryTitleEn,f=i.categoryImageUrl,m=i.categoryTopProductImage,g=(0,s.d)("flex-col items-center justify-between p-4 bg-neutral-100 rounded-medium",p().categoryCard,o);return(0,a.jsx)(d.r,{to:l,onClick:n,className:g,CROId:"plp-shortcut-category",children:t||(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.E,{src:f||m,width:"85px",height:"85px",alt:u||v,className:p().categoryCard__image}),(0,a.jsx)("div",{className:"w-full text-caption-strong text-neutral-700 grow flex items-center justify-center text-center ellipsis-2",children:u||v})]})})}function f(e){var r=e.categories,n=e.className,c=(0,t.Z)((0,o.useState)(!1),2),d=c[0],u=c[1],p=(0,s.d)("text-caption-strong text-neutral-700 text-center");return(0,l.x)(r)?null:(0,a.jsx)("div",{className:(0,s.d)("w-full",n),children:(0,a.jsxs)("div",{className:"flex flex-nowrap overflow-x-auto lg:grid lg:grid-cols-8 lg:place-items-stretch gap-3",children:[d?r.map(function(e){return(0,a.jsx)(v,{category:e},null==e?void 0:e.categoryId)}):r.slice(0,7).map(function(e){return(0,a.jsx)(v,{category:e},null==e?void 0:e.categoryId)}),!d&&r.length>7&&(0,a.jsxs)(v,{onClick:function(){u(!0)},className:"items-center cursor-pointer",children:[(0,a.jsx)("div",{className:p,children:"مشاهده"}),(0,a.jsx)("div",{className:"flex items-center justify-center text-h1 text-neutral-600",children:(0,i.U)(r.length-7)}),(0,a.jsx)("div",{className:p,children:"دسته‌بندی دیگر"})]})]})})}},90713:function(e,r,n){"use strict";n.d(r,{I:function(){return v}});var t=n(52322),a=n(59437),o=n(98780),i=n(88413),l=n(26442),s=n(8155),c=n(72677),d=n(50020),u=n(67317),p=n.n(u);function v(e){var r=e.options,n=e.className,u=(0,c.d)("w-full hidden lg:flex flex-col items-stretch px-5 py-3 rounded-medium border-complete-200 bg-neutral-000",p().relatedSearchWords,n),v=function(e){(0,s._p)({query:e,type:i.qx,queries:r})};return(0,d.k)(r)||(null==r?void 0:r.length)===0?null:(0,t.jsxs)("div",{className:u,children:[(0,t.jsx)("div",{className:"text-button-2 text-neutral-900 mb-3",children:"جستجو‌های مرتبط"}),r.map(function(e){return(0,t.jsx)("div",{onClick:function(){return v(e)},className:"border-complete-b",children:(0,t.jsxs)(a.e,{href:(0,l.dH)(e),className:"flex items-center justify-between py-3 gap-4 ",children:[(0,t.jsx)(o.J,{icon:"searchSearch",size:24,color:"neutral-700"}),(0,t.jsx)("div",{className:"grow text-body2-strong text-neutral-700",children:e}),(0,t.jsx)(o.J,{icon:"chevronLeft",color:"low-emphasis",size:24})]},e)})})]})}},51359:function(e,r,n){"use strict";n.d(r,{h:function(){return s}});var t=n(70865),a=n(96670),o=n(50930),i=n(79593),l=n(82622);function s(e){var r,n,s,c=e.data,d=e.cpcData,u=e.queryParams,p=(0,o.Z)((null==c?void 0:c.products)||[]),v={data:(0,a.Z)((0,t.Z)({},c),{products:(0,l.r)(p,d)}),identifiers:(0,t.Z)({},u),cpcData:d};i.s||(window.plpData=v),!i.s&&(null==c?void 0:c.products)&&(window.plpProductsData=null===(r=(null==window?void 0:window.plpProductsData)||[])||void 0===r?void 0:r.concat(null==v?void 0:null===(n=v.data)||void 0===n?void 0:null===(s=n.products)||void 0===s?void 0:s.map(function(e,r){var n;return(0,t.Z)({productPage:null==c?void 0:null===(n=c.pager)||void 0===n?void 0:n.pagerCurrentPage,productIndex:r},e)})))}},62069:function(e,r,n){"use strict";n.d(r,{D:function(){return c}});var t=n(4547),a=n(89617),o=n(51071),i=n(83050),l=n(6013),s=n(79593);function c(){if(!s.s)try{var e=o.h.getState(),r=l.p.userCity(e),n=i.E.userDefaultCity(e),c=a.I.defaultCity(e);return(null==r?void 0:r.cityId)||(null==n?void 0:n.cityId)||(null==c?void 0:c.cityId)}catch(d){(0,t.g)("Failed to get current city ID",{error:d});return}}},56632:function(e,r,n){"use strict";n.d(r,{c_:function(){return l}});var t=n(70865),a=n(68762),o=n.n(a),i=n(4547);function l(e,r){return function(n){var a=e?e(n):n;if(r)try{var l=r();if(l){var s,c=(s=function(e){if(!e)return"";var r={city_id:String(e)},n=JSON.stringify(r,Object.keys(r).sort());return o()(n).substring(0,12)}(l))?{_rch:s}:{};return(0,t.Z)({},a||{},c)}}catch(d){(0,i.g)("Failed to generate _rch parameter",{error:d,cityId:null==r?void 0:r()})}return a}}},76939:function(e){e.exports={categoryCard:"styles_categoryCard__A2F6R",categoryCard__image:"styles_categoryCard__image__6IJ8H"}},67317:function(e){e.exports={relatedSearchWords:"relatedSearchWords_relatedSearchWords__e85oi"}}}]);